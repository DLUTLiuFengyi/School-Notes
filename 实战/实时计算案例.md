### 实时欺诈检测

实质：消息队列 -> Flink 进行类批处理 -> 输出结果

实时欺诈检测（风控）系统流程如下：

1. 用户的行为经由App上报或Web日志记录下来，发送到一个消息队列里去。
2. 实时计算订阅消息队列，过滤出感兴趣的行为，比如：购买、领券、浏览等。
3. 实时计算计算把这个行为特征化。
4. 实时计算通过UDF调用外部一个风险模型，判断这次行为是否有问题（单次行为）。
5. 实时计算里通过CEP功能，跨多条记录分析用户行为（比如用户先做了A，又做了B，又做了3次C），整体识别是否有风险。
6. 综合风险模型和CEP的结果，产出预警信息。