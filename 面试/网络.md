### DNS

域名服务器：将域名解析成ip地址

用户上网使用域名来访问网站

用户提交的请求不会直接发送给想要访问的网站，而是

* 首先发给域名服务器，服务器把域名解析成ip地址，返回给用户
* 用户收到ip地址，向该ip地址发起请求

#### DNS负载均衡

如果一个域名指向了多个IP地址，在每次域名解析时，DNS只要选一个返回给用户，就能够实现服务器集群的负载均衡。

##### 具体做法

设置一个调度策略，接下来的负载均衡完全由DNS服务器实现。当用户向我们的域名发起请求时，DNS服务器会自动根据我们之前设定好的策略选择一个合适的IP返回给用户，用户再向该IP发起请求。

* 随机分配
* 轮询
* 根据请求者的地域分配离他最近的服务器

##### 优点

* 最大的优点是配置简单

  服务器集群的调度工作完全由DNS服务器承担，那么我们就可以把精力放在后端服务器上，保证他们的稳定性与吞吐量。而且完全不用担心DNS服务器的性能，即便是使用了轮询策略，它的吞吐率依然卓越。

* 具有较强的扩展性

  你完全可以为一个域名解析较多的IP，而且不用担心性能问题。

##### 缺点

* 不能方便地控制调度者（DNS）

  由于把集群调度权交给了DNS服务器，我们没办法随心所欲地控制调度者，没办法定制调度策略。

* DNS服务器不能了解每台服务器负载情况

  没办法了解每台服务器的负载情况，因此没办法实现真正意义上的负载均衡。它和HTTP重定向一样，只不过把所有请求平均分配给后端服务器罢了。

* DNS服务器对故障ip有缓存

  当我们发现某一台后端服务器发生故障时，即使我们立即将该服务器从域名解析中去除，但由于DNS服务器会有缓存，该IP仍然会在DNS中保留一段时间，那么就会导致一部分用户无法正常访问网站。这是一个致命的问题！好在这个问题可以用动态DNS来解决。

#### 动态DNS