## Flink

### 流式处理

#### 特点

处理流式数据（像水流一样持续不断）

* 实时聊天

  聊天应该是连续不断产生的，你发一条我接收，我再发一条你接收，你来我往

* 汽车实时定位

* 邮件提醒（产生一条新邮件，就发送信息）

为了计算机实现方便，传统使用批处理（假设数据拿来后，数据源端不产生新数据，攒一批后再处理）

* 低延迟
* 高吞吐
* 准确性和容错性

#### case

* 市场营销

  数据报表，网站点击量（短时间内激增），广告投放（实时反馈），业务流程

* 物联网

  传感器实时数据采集和显示，实时报警，交通运输业

* 电信业

  基站流量调配（某个地区数据量有峰值时，把附近基站调配过来分担压力）

* 银行和金融业

  实时结算和通知推送，实时监测异常行为

  传统做法：一天下午4-5点就下班，然后进行一天数据的整合

#### 分层api

* SQL/Table API

  抽象表

* DataStream API

  数据处理

* ProcessFunction

  事件驱动

  几乎什么都可以做

```shell
#当前并行执行的线程号   所开的线程数与默认核数相同
2> (xxx,1)
```

### 架构

* jobmanager

  管理调度分配任务，类似spark driver，具体任务分配给taskmanager

* taskmanager

  管理自己所负责的task，又叫worker，类似spark的executor

